#!kivy 1.5

<MenuButton>:
    size_hint: (None, 1)
    width: 50
    group: 'tabs'
    on_press:
        self.parent.parent.sm.current = self.text
        self.state = 'down'

<MainKvG>:
    target: app.config.get('OSC', 'dest_host') + ":" + str(app.config.get('OSC', 'dest_port'))

    tunename: tunename
    sm: sm
    menu: menu
    mix_b: mix_b
    mainmix: mainmix
    odr_b: odr_b
    organicdrums: organicdrums

    BoxLayout:
        orientation: 'vertical'
        size_hint: None, None
        pos: root.pos
        size: root.size

        OscLabel:
            id: tunename
            text: "Sebkha-Chott Totalizm"
            size_hint: 1, None
            font_size: 30
            height: 30

        Menu:
            id: menu
            orientation: 'horizontal'
            size_hint: (1, None)
            pos: root.x, root.y + root.height - self.height
            height: 30

            MenuButton:
                id: mix_b
                text: "Mix"
                on_parent: self.state = 'down'

            MenuButton:
                id: odr_b
                text: "ODr"
      
        ScreenManager:
            id: sm
            size_hint: (1, 1)
#            height: root.height - menu.height
#            width: root.width
#            pos: root.pos

            MainMix:
                id: mainmix
                name: 'Mix'

            OrganicDrums:
                id: organicdrums
                name: 'ODr'
                ToggleButton:
                    text: "OrganicDrums"


<kvGhislame>:
    port: self.config.get('OSC', 'in_port')
    

#!kivy 1.5

<LightBox>:
    main_dimmer_fader: main_dimmer_fader

    r_fader: r_fader
    g_fader: g_fader
    b_fader: b_fader

    custom_color_1: cc1
    custom_color_2: cc2
    custom_color_3: cc3
    custom_color_4: cc4
    custom_color_5: cc5
    custom_color_6: cc6
    custom_color_7: cc7
    custom_color_8: cc8

    flash: flash

    args_pattern: "fff"
    path: "/" + self.app_name.replace(" ", "_") + "/LightXYpad/" +  self.name.replace(" ", "_") + "/" + str(self.mode)
    control_path: self.path

    pad_pos: 160, 156 #root.x + main_dimmer_fader.x + main_dimmer_fader.width + root.yfader.width + root.y_name_pad_height + 30, root.y + root.name_pad_height + root.x_name_pad_height + root.xfader.height + root.hfader_height + 30
    pad_size: root.width - 160 - 35 - (r_fader.width + 5) * 3, root.height - 156 #root.height - root.pad_pos[1] - root.y - 5, root.height - root.pad_pos[1] - root.y - 5 #root.width - 30 - (5 + root.r_fader.width) * 3 - root.pad_x, root.height - root.pad_y - root.y - 5

    ValueFader:
        id: main_dimmer_fader
        size_hint: (None, None)
        orientation: 'vertical'
        name: root.name
        color: root.color
        pos: root.x, root.y + root.name_pad_height + 10
        height: root.height - root.name_pad_height - 15
        max: 1
        value: root.hsv[2]
        path: ''
        on_touch_move:
            root.value = (root.value[0], self.value)

    ValueFader:
        id: r_fader
        size_hint: (None, None)
        orientation: 'vertical'
        color: 1, 0, 0
        name: 'red'
        x: root.x + root.pad_x + root.pad_width + 30
        y: main_dimmer_fader.y
        width: 50
        height: main_dimmer_fader.height
        max: 1
        value: root.rgb[0]
        path: ''
        on_touch_move:
            root.rgb = self.value, root.rgb[1], root.rgb[2]

    ValueFader:
        id: g_fader
        size_hint: (None, None)
        orientation: 'vertical'
        color: 0, 1, 0
        name: 'green'
        x: root.x + root.pad_x + root.pad_width + 30 + r_fader.width + 5
        y: main_dimmer_fader.y
        width: 50
        height: main_dimmer_fader.height
        max: 1
        value: root.rgb[1]
        path: ''
        on_touch_move:
            root.rgb = root.rgb[0], self.value, root.rgb[2]


    ValueFader:
        id: b_fader
        size_hint: (None, None)
        orientation: 'vertical'
        color: 0, 0, 1
        name: 'blue'
        x: root.x + root.pad_x + root.pad_width + 30 + r_fader.width + g_fader.width + 5 + 5
        y: main_dimmer_fader.y
        width: 50
        height: main_dimmer_fader.height
        max: 1
        value: root.rgb[2]
        path: ''
        on_touch_move:
            root.rgb = root.rgb[0], root.rgb[1], self.value

    BoxLayout:
        orientation: 'vertical'
        size_hint: (None, None)
        size: 30, 310
        pos: root.x, main_dimmer_fader.y + 15 # + main_dimmer_fader.height - 310
        spacing: 10 

        Push:
            id: cc1
            main_color: 1, 0, 0
            size_hint: (None, None)
            size: 30, 30
            path: ''
            on_press:
                root.rgb = self.main_color
                root.hsv = root.hsv[0], root.hsv[1], 0

        Push:
            id: cc2
            main_color: 1, 1, 0
            size_hint: (None, None)
            size: 30, 30
            path: ''
            on_press:
                root.rgb = self.main_color
                root.hsv = root.hsv[0], root.hsv[1], 0

        Push:
            id: cc3
            main_color: 1, 1, 1
            size_hint: (None, None)
            size: 30, 30
            path: ''
            on_press:
                root.rgb = self.main_color
                root.hsv = root.hsv[0], root.hsv[1], 0

        Push:
            id: cc4
            main_color: 1, 0, 1
            size_hint: (None, None)
            size: 30, 30
            path: ''
            on_press:
                root.rgb = self.main_color
                root.hsv = root.hsv[0], root.hsv[1], 0

        Push:
            id: cc5
            main_color: 0, 1, 1
            size_hint: (None, None)
            size: 30, 30
            path: ''
            on_press:
                root.rgb = self.main_color
                root.hsv = root.hsv[0], root.hsv[1], 0

        Push:
            id: cc6
            main_color: 0, 1, 0
            size_hint: (None, None)
            size: 30, 30
            path: ''
            on_press:
                root.rgb = self.main_color
                root.hsv = root.hsv[0], root.hsv[1], 0

        Push:
            id: cc7
            main_color: 0, 0, 1
            size_hint: (None, None)
            size: 30, 30
            path: ''
            on_press:
                root.rgb = self.main_color
                root.hsv = root.hsv[0], root.hsv[1], 0

        Push:
            id: cc8
            main_color: 1, 0.5, 1
            size_hint: (None, None)
            size: 30, 30
            path: ''
            on_press:
                root.rgb = self.main_color
                root.hsv = root.hsv[0], root.hsv[1], 0


    Push:
        id: flash
        hsv: root.hsv[0], root.hsv[1], 1
        size_hint: (None, None)
        size: 30, 30
        center_x: root.main_dimmer_fader.center_x
        path: ''
        on_press:
            root.old_hue = root.hsv[2]
            root.hsv = root.hsv[0], root.hsv[1], 1
        on_release:
            root.hsv = root.hsv[0], root.hsv[1], root.old_hue



    
